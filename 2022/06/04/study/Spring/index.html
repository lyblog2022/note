<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Spring | My Note</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
    <meta name="description" content="654645564">
  
  
  
    <link rel="alternate" href="/atom.xml" title="My Note" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
  
  
<meta name="generator" content="Hexo 6.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">My Note</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Welcome To My World</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        
          <a class="main-nav-link" href="/."><i class="fa fa-home"></i> 首页</a>
        
          <a class="main-nav-link" href="/archives/"><i class="fa fa-archive"></i> 归档</a>
        
      </nav>
    </div>
    <div id="search-form">
      <div id="result-mask" class="hide"></div>
      <label><input id="search-key" type="text" autocomplete="off" placeholder="搜索"></label>
      <div id="result-wrap" class="hide">
        <div id="search-result"></div>
      </div>
      <div class="hide">
        <template id="search-tpl">
          <div class="item">
            <a href="/{path}" title="{title}">
              <div class="title">{title}</div>
              <div class="time">{date}</div>
              <div class="tags">{tags}</div>
            </a>
          </div>
        </template>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-study/Spring" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      Spring
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2022-06-04T08:59:55.000Z" itemprop="datePublished">2022-06-04</time>
</span>
      
  <div class="article-category">
    <i class="fa fa-classify"></i>
    <a class="article-category-link" href="/categories/%E5%AD%A6%E4%B9%A0/">学习</a> > <a class="article-category-link" href="/categories/%E5%AD%A6%E4%B9%A0/Spring/">Spring</a>
  </div>

      
        <span class="article-views">
  <i class="fa fa-views"></i>
  <i id="busuanzi_container_page_pv">
      <i id="busuanzi_value_page_pv"></i>
  </i>
</span>

      
      

    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>Spring学习</p>
<span id="more"></span>

<h2 id="1、Spring框架"><a href="#1、Spring框架" class="headerlink" title="1、Spring框架"></a>1、<code>Spring</code>框架</h2><h3 id="1-1-Spring框架"><a href="#1-1-Spring框架" class="headerlink" title="1.1 Spring框架"></a>1.1 <code>Spring</code>框架</h3><p>​	<code>Spring</code>框架是由于软件开发的复杂性而创建的。<code>Spring</code>使用的是基本的<code>JavaBean</code>来完成以前只可能由<code>EJB</code>完成的事情。然而，<code>Spring</code>的用途不仅仅限于服务器端的开发。从简单性、可测试性和松耦合性角度而言，绝大部分<code>Java</code>应用都可以从<code>Spring</code>中受益。</p>
<p>​																																																		—-百度百科</p>
<ul>
<li>目的：解决企业应用开发的复杂性</li>
<li>功能：使用基本的<code>JavaBean</code>代替<code>EJB</code>，并提供更对的企业应用功能</li>
<li>范围：任何<code>Java</code>应用</li>
</ul>
<p>​	<code>Spring</code>是分层的全栈式的轻量级开发框架，以<code>IOC</code>和<code>AOP</code>为核心</p>
<h3 id="1-2-优点"><a href="#1-2-优点" class="headerlink" title="1.2 优点"></a>1.2 优点</h3><ol>
<li>方便解耦，简化开发</li>
</ol>
<p><code>Spring</code>通过容器，将对象的创建从代码中剥离出来，交给<code>Spring</code>控制，避免直接编码造成模块之间的耦合度高，用户也不必自己编码处理对象的单例和多例控制，主要关注接口功能即可，不用关注具体使用哪个实现类和实现细节问题 </p>
<ol start="2">
<li><code>AOP</code>切面编程</li>
</ol>
<p><code>AOP</code>切面编程是程序设计的一种概念，<code>Spring</code>对该概念实现的比较好，通过切面编程我们可以在不修改原有代码的情况下实现功能的增加，通常用于事务控制、日志记录、性能检测、权限控制等等</p>
<ol start="3">
<li>声明式事务</li>
</ol>
<p>事务的控制可以托管给<code>Spring</code>，我们通过注解或者配置文件声明事务的处理方式即可，不用我们自己去编码处理</p>
<ol start="4">
<li>整合<code>JUNIT</code>，方便测试</li>
</ol>
<p><code>spring</code>整合<code>JUNIT</code>单元测试，对于项目的功能都可以进行轻松快速的测试，便于我们调试程序</p>
<ol start="5">
<li>方便整合各种优秀的框架</li>
<li>丰富的功能封装</li>
</ol>
<p><code>spring</code>对<code>JAVAEE</code>(<code>JDBC </code>，<code>JAVAMail</code>)都进行了一系列的封装，简化我们对于<code>API</code>的使用，提高程序的开发效率</p>
<ol start="7">
<li>规范的源码学习样本</li>
</ol>
<p><code>spring</code>的源码设计巧妙，结构清晰，大量使用了设计模式，是<code>java</code>代码规范编写的典范</p>
<h2 id="2、Spring模块"><a href="#2、Spring模块" class="headerlink" title="2、Spring模块"></a>2、<code>Spring</code>模块</h2><img src="/2022/06/04/study/Spring/Spring%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84.png" class="" title="Spring体系结构 image">

<h3 id="2-1-Data-Access-Integration（数据访问／集成）"><a href="#2-1-Data-Access-Integration（数据访问／集成）" class="headerlink" title="2.1 Data Access/Integration（数据访问／集成）"></a>2.1 <code>Data Access/Integration</code>（数据访问／集成）</h3><p>数据访问&#x2F;集成层包括 <code>JDBC</code>、<code>ORM</code>、<code>OXM</code>、JMS<code> </code>和 <code>Transactions </code>模块</p>
<ul>
<li><p><code>JDBC </code>模块：提供了一个 <code>JDBC </code>的抽象层，大幅度减少了在开发过程中对数据库操作的编码。</p>
</li>
<li><p><code>ORM </code>模块：对流行的对象关系映射 <code>API</code>，包括 <code>JPA</code>、<code>JDO</code>、<code>Hibernate</code>和 <code>iBatis </code>提供了的集成层。</p>
</li>
<li><p><code>OXM </code>模块：提供了一个支持对象<code>XML </code>映射的抽象层实现，如 <code>JAXB</code>、<code>Castor</code>、<code>XMLBeans</code>、<code>JiBX </code>和 <code>XStream</code>。 </p>
</li>
<li><p><code>JMS </code>模块：指<code>JAVA</code>消息服务，包含的功能为生产和消费的信息。</p>
</li>
<li><p><code>Transactions </code>事务模块：支持编程和声明式事务管理实现特殊接口类，并为所有的 <code>POJO</code>。</p>
</li>
</ul>
<h3 id="2-2-Web-模块"><a href="#2-2-Web-模块" class="headerlink" title="2.2  Web 模块"></a>2.2  <code>Web </code>模块</h3><p><code>Spring </code>的 <code>Web </code>层包括 <code>Web</code>、<code>Servlet</code>、<code>Struts </code>和 <code>Portlet </code>组件</p>
<ul>
<li><code>Web </code>模块：提供了基本的 <code>Web </code>开发集成特性，例如多文件上传功能、使用的 <code>Servlet </code>监听器的 <code>IoC </code>容器初始化以及 <code>Web </code>应用上下文。</li>
<li><code>Servlet</code>模块：包括 <code>Spring </code>模型—视图—控制器（<code>MVC</code>）实现 <code>Web</code>应用程序。</li>
<li><code>Struts </code>模块：包含支持类内的 <code>Spring </code>应用程序，集成了经典的 <code>Struts Web</code> 层。</li>
<li><code>Portlet </code>模块：提供了在 <code>Portlet </code>环境中使用 <code>MVC</code>实现，类似 <code>Web-Servlet</code> 模块的功能。</li>
</ul>
<h3 id="2-3-Core-Container（核心容器）"><a href="#2-3-Core-Container（核心容器）" class="headerlink" title="2.3 Core Container（核心容器）"></a>2.3 <code>Core Container</code>（核心容器）</h3><p><code>Spring </code>的核心容器是其他模块建立的基础，由 <code>Beans </code>模块、<code>Core </code>核心模块、<code>Context </code>上下文模块和 <code>Expression Language</code> 表达式语言模块组成</p>
<ul>
<li><code>Beans </code>模块：提供了 <code>BeanFactory</code>，是工厂模式的经典实现，<code>Spring </code>将管理对象称为 <code>Bean</code>。</li>
<li><code>Core </code>核心模块：提供了 <code>Spring </code>框架的基本组成部分，包括 <code>IoC </code>和 <code>DI </code>功能。</li>
<li><code>Context </code>上下文模块：建立在核心和 <code>Beans</code> 模块的基础之上，它是访问定义和配置任何对象的媒介。<code>ApplicationContext </code>接口是上下文模块的焦点。</li>
<li><code>Expression Language</code> 模块：是运行时查询和操作对象图的强大的表达式语言。</li>
</ul>
<h3 id="2-4-其他模块"><a href="#2-4-其他模块" class="headerlink" title="2.4 其他模块"></a>2.4 其他模块</h3><p><code>Spring</code>的其他模块还有 <code>AOP</code>、<code>Aspects</code>、<code>Instrumentation </code>以及 <code>Test </code>模块</p>
<ul>
<li><code>AOP </code>模块：提供了面向切面编程实现，允许定义方法拦截器和切入点，将代码按照功能进行分离，以降低耦合性。</li>
<li><code>Aspects </code>模块：提供与 <code>AspectJ </code>的集成，是一个功能强大且成熟的面向切面编程（<code>AOP</code>）框架。</li>
<li><code>Instrumentation </code>模块：提供了类工具的支持和类加载器的实现，可以在特定的应用服务器中使用。</li>
<li><code>Test </code>模块：支持 <code>Spring </code>组件，使用 <code>JUnit </code>或 <code>TestNG </code>框架的测试。</li>
</ul>
<h2 id="3、Spring-IOC"><a href="#3、Spring-IOC" class="headerlink" title="3、Spring_IOC"></a>3、Spring_IOC</h2><h3 id="3-1-控制反转"><a href="#3-1-控制反转" class="headerlink" title="3.1 控制反转"></a>3.1 控制反转</h3><p>​	控制反转（Inversion of Control，缩写为<strong>IoC</strong>），是面向对象编程中的一种设计原则，可以用来减低计算机代码之间的耦合度。其中最常见的方式叫做<strong>依赖注入</strong>（Dependency Injection，简称<strong>DI</strong>），还有一种方式叫<strong>依赖查找</strong>（Dependency Lookup）。通过控制反转，对象在被创建的时候，由一个调控系统内所有对象的外界实体将其所依赖的对象的引用传递给它。也可以说，依赖被注入到对象中。–【百度】</p>
<p>​	简单来说，创建对象的权利，或者是控制的位置，由<code>Java</code>代码转移到<code>Spring</code>容器，由<code>Spring</code>的容器控制对象的创建，就是控制反转，<code>Spring</code>创建对象时，会读取配置文件中的信息，然后使用反射创建好的对象之后在容器中存储起来，当需要某个对象时，通过<code>id</code>获取对象即可，不需要自己去<code>new</code></p>
<h3 id="3-2-原理分析"><a href="#3-2-原理分析" class="headerlink" title="3.2 原理分析"></a>3.2 原理分析</h3><h4 id="3-2-1-XML解析"><a href="#3-2-1-XML解析" class="headerlink" title="3.2.1 XML解析"></a>3.2.1 XML解析</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;stuDao&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.dao.impl.StuDaoImpl&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>​		将上面的信息读取进入程序  对象的ID ,一个是对象的类的全路径名</p>
<h4 id="3-2-2-反射"><a href="#3-2-2-反射" class="headerlink" title="3.2.2 反射"></a>3.2.2 反射</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//获得类的字节码</span></span><br><span class="line"><span class="type">Class</span> <span class="variable">clazz</span> <span class="operator">=</span>Class.forName(<span class="string">&quot;com.dao.impl.StuDaoImpl&quot;</span>);</span><br><span class="line"><span class="comment">//通过字节码实例化对象</span></span><br><span class="line"><span class="type">Object</span> <span class="variable">obj</span>  <span class="operator">=</span> clazz.newInstance(); </span><br><span class="line"><span class="comment">//将对象放到一个map集合中</span></span><br><span class="line">map.put(<span class="string">&quot;empDao&quot;</span>,obj)</span><br></pre></td></tr></table></figure>

<h4 id="3-2-3-工厂模式"><a href="#3-2-3-工厂模式" class="headerlink" title="3.2.3 工厂模式"></a>3.2.3 工厂模式</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> Object <span class="title function_">getBean</span><span class="params">(String name)</span>&#123; </span><br><span class="line">	<span class="type">Object</span> <span class="variable">obj</span> <span class="operator">=</span>map.get(name); </span><br><span class="line">    <span class="keyword">return</span> obj; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>IOC</code>接口	</p>
<ul>
<li><code>BeanFactory </code>接口：<code>IOC</code>容器基本功能接口，是<code>spring</code>内部使用的接口，我们在处理业务时一般不直接使用该接口</li>
<li><code>ApplicationContext </code>接口：<code>BeanFactory</code>的子接口，提供更多更强大的功能，研发人员一般使用的接口</li>
</ul>
<img src="/2022/06/04/study/Spring/spring2.png" class="" title="spring2 image">

<h2 id="4、Spring-XML方式实现DI"><a href="#4、Spring-XML方式实现DI" class="headerlink" title="4、Spring_XML方式实现DI"></a>4、<code>Spring_XML</code>方式实现<code>DI</code></h2><p><code>spring</code>中的<code>Bean</code>的管理: </p>
<p><code>Bean</code>(汉译咖啡豆)，又称<code>JAVABean</code>，其实就是<code>JAVA</code>程序程序中的一个个对象，所以<code>Bean</code>的管理其实就是<code>spring</code>对于<code>JAVA</code>程序中的对象的管理</p>
<p>管理的内容</p>
<ul>
<li>对象的创建（<code>IOC</code>）：控制反转，就是<code>Spring</code>给我们创建对象，然后我们直接用，不用自己<code>NEW</code></li>
<li>属性的赋值（<code>DI</code>）：依赖注入，即创建属性时给对象属性赋值，对象功能的实现往往要依赖属性的值，由于对象属性不仅仅是基本数据类型，还可能是其他类或者引用类型，那么依赖注入将会把更多的对象之间的关系整理到一起，可以形成一个庞大的依赖关系，DI处理的是对象的属性赋值和互相依赖的关系</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--通过无参构造方法构造对象--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;user1&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.bean.User&quot;</span> <span class="attr">name</span>=<span class="string">&quot;user1&quot;</span> <span class="attr">scope</span>=<span class="string">&quot;prototype&quot;</span> <span class="attr">lazy-init</span>=<span class="string">&quot;true&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">id:对象的id</span></span><br><span class="line"><span class="comment">class:类的全路径名</span></span><br><span class="line"><span class="comment">name:和id类似,一般不用</span></span><br><span class="line"><span class="comment">scope：控制对象单例多例和使用范围</span></span><br><span class="line"><span class="comment">	singleton：作用域(scope 默认值), Spring IOC容器中只会存在一个共享的bean实例</span></span><br><span class="line"><span class="comment">	prototype：作用域部署的bean，每一次获取都会产生一个新的bean实例，相当与一个new的操作</span></span><br><span class="line"><span class="comment">	request：表示该针对每一次HTTP请求都会产生一个新的bean，同时该bean仅在当前HTTP request内有效</span></span><br><span class="line"><span class="comment">	session：作用域表示该针对每一次HTTP请求都会产生一个新的bean，同时该bean仅在当前HTTP session内有效</span></span><br><span class="line"><span class="comment">	global session：作用域类似于标准的HTTP Session作用域，不过它仅仅在基于portlet的web应用中才有意义</span></span><br><span class="line"><span class="comment">lazy-init：懒加载 调用getBean的时候再去实例化对象</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--通过set方法给对象属性赋值--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;user1&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.bean.User&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;userid&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;张三&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;abcdefg&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--通过有参构造给对象属性赋值--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;user2&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.bean.User&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">&quot;userid&quot;</span> <span class="attr">value</span>=<span class="string">&quot;2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;小明&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;123456789&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--特殊符号--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;user1&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.bean.User&quot;</span>&gt;</span></span><br><span class="line">	<span class="comment">&lt;!--null值--&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;userid&quot;</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">null</span>&gt;</span><span class="tag">&lt;/<span class="name">null</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">	<span class="comment">&lt;!--特殊符号 转译字符 &lt; &amp;lt;  &gt;&amp;gt;  &amp; &amp;amp;     --&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;<span class="symbol">&amp;amp;</span>xiaoming<span class="symbol">&amp;lt;</span><span class="symbol">&amp;gt;</span>&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">	<span class="comment">&lt;!-- 特殊符号  &lt;![CDATA[内容]]&gt;  --&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">value</span>&gt;</span>&lt;![CDATA[&amp;&lt;123456&gt;]]&gt;<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="5、Spring-Bean生命周期"><a href="#5、Spring-Bean生命周期" class="headerlink" title="5、Spring_Bean生命周期"></a>5、<code>Spring_Bean</code>生命周期</h2><ol>
<li>通过构造器创建bean实例&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;  执行构造器</li>
<li>为bean属性赋值&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;  执行set方法</li>
<li>初始化bean&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; 调用bean的初始化方法,需要配置指定调用的方法</li>
<li>bean的获取&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; 容器对象 getBean方法</li>
<li>容器关闭销毁bean&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; 调用销毁方法,需要配置指定调用的方法</li>
</ol>
<h2 id="6、Spring注解方式管理Bean"><a href="#6、Spring注解方式管理Bean" class="headerlink" title="6、Spring注解方式管理Bean"></a>6、<code>Spring</code>注解方式管理<code>Bean</code></h2><h3 id="6-1-注解方式创建对象IOC"><a href="#6-1-注解方式创建对象IOC" class="headerlink" title="6.1 注解方式创建对象IOC"></a>6.1 注解方式创建对象<code>IOC</code></h3><ul>
<li>@Component：放在类上,用于标记，告诉<code>spring</code>当前类需要由容器实例化<code>bean</code>并放入容器中</li>
<li>@Controller：@Component子注解，用于实例化<code>controller</code>层<code>bean</code></li>
<li>@Service：@Component子注解，用于实例化<code>service</code>层<code>bean</code></li>
<li>@Repository：@Component子注解，用于实例化持久层<code>bean</code></li>
</ul>
<h3 id="6-2-注解方式依赖注入DI"><a href="#6-2-注解方式依赖注入DI" class="headerlink" title="6.2 注解方式依赖注入DI"></a>6.2 注解方式依赖注入<code>DI</code></h3><ul>
<li>@Autowired：根据属性数据类型自动装配</li>
<li>@Qualifier：根据属性名称注入依赖</li>
<li>@Resources：可以根据类型,也可以根据名称注入</li>
<li>@Value：注入普通数据类型(8+String)</li>
</ul>
<h2 id="7、Spring代理"><a href="#7、Spring代理" class="headerlink" title="7、Spring代理"></a>7、<code>Spring</code>代理</h2><h3 id="7-1-代理模式"><a href="#7-1-代理模式" class="headerlink" title="7.1 代理模式"></a>7.1 代理模式</h3><p>通过代理对象访问目标对象，可以在目标对象基础上增强额外的功能，如添加权限、访问控制等</p>
<img src="/2022/06/04/study/Spring/spring%E4%BB%A3%E7%90%86.png" class="" title="spring代理 image">

<h3 id="7-2-静态代理"><a href="#7-2-静态代理" class="headerlink" title="7.2 静态代理"></a>7.2 静态代理</h3><p>​	静态代理中代理类与被代理类都需要实现同一个接口，即一个静态代理类只能代理一个类，并且需要知道要代理哪个类才能编写代理类代码，如果有其他类想要使用代理类，就必须再写一个</p>
<p>​	在实际开发中是可能有非常多的类需要被代理，并且可能并不知道要代理哪个类，所以继续使用静态代理反而会增加更多的工作量，且效率低下</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.test;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* <span class="doctag">@Author</span>: Ly</span></span><br><span class="line"><span class="comment">* <span class="doctag">@Description</span>: </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test1</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">	<span class="type">Person</span> <span class="variable">person</span> <span class="operator">=</span><span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;张三&quot;</span>);</span><br><span class="line">	Court court=<span class="keyword">new</span> <span class="title class_">Lawyer</span>(person);</span><br><span class="line">	court.doCourt();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 接口</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Court</span>&#123;</span><br><span class="line">	<span class="keyword">void</span> <span class="title function_">doCourt</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 代理类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Lawyer</span> <span class="keyword">implements</span> <span class="title class_">Court</span>&#123;</span><br><span class="line">	<span class="keyword">private</span> Person person;</span><br><span class="line">    </span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Lawyer</span><span class="params">(Person person)</span> &#123;</span><br><span class="line">		<span class="built_in">this</span>.person = person;</span><br><span class="line">	&#125;</span><br><span class="line">    </span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doCourt</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;律师取证:视频证明张三当时正在旅游,不在案发现场&quot;</span>);</span><br><span class="line">		System.out.println(<span class="string">&quot;律师总结:张三不可能去杀人&quot;</span>);</span><br><span class="line">		person.doCourt();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 被代理的类</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> <span class="keyword">implements</span> <span class="title class_">Court</span>&#123;</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">    </span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Person</span><span class="params">(String name)</span> &#123;</span><br><span class="line">		<span class="built_in">this</span>.name = name;</span><br><span class="line">	&#125;</span><br><span class="line">    </span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doCourt</span><span class="params">()</span> &#123;</span><br><span class="line">		System.out.println(name+<span class="string">&quot;说:我没有杀人&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>

<h3 id="7-3-动态代理"><a href="#7-3-动态代理" class="headerlink" title="7.3 动态代理"></a>7.3 动态代理</h3><p>​	动态代理可以针对于一些不特定的类或者一些不特定的方法进行代理，可以在程序运行时动态的改变代理的规则，代理类在程序运行时才创建的代理模式，在这种情况下，代理类并不是在<code>Java</code>代码中定义好，而是在程序运行时根据在<code>Java</code>代码中的指示动态生成的</p>
<ul>
<li><code>Proxy</code>动态代理：<code>JDK</code>动态代理，面向接口</li>
<li><code>cglib</code>动态代理：第三方动态代理，面向父类</li>
</ul>
<h4 id="7-3-1-Proxy动态代理"><a href="#7-3-1-Proxy动态代理" class="headerlink" title="7.3.1 Proxy动态代理"></a>7.3.1 <code>Proxy</code>动态代理</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.testProxy;</span><br><span class="line">   </span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.InvocationHandler;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Proxy;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span>: Ly</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test1</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		Dinner dinner=<span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;张三&quot;</span>);</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 通过Porxy动态代理获得一个代理对象,在代理对象中,对某个方法进行增强</span></span><br><span class="line">		<span class="comment">// ClassLoader loader,被代理的对象的类加载器</span></span><br><span class="line">		<span class="type">ClassLoader</span> <span class="variable">classLoader</span> <span class="operator">=</span> dinner.getClass().getClassLoader();</span><br><span class="line">		<span class="comment">// Class&lt;?&gt;[] interfaces,被代理对象所实现的所有接口</span></span><br><span class="line">		Class[] interaces= dinner.getClass().getInterfaces();</span><br><span class="line">		<span class="comment">//InvocationHandler h,执行处理器对象,专门用于定义增强的规则</span></span><br><span class="line">		<span class="type">InvocationHandler</span> <span class="variable">handler</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">InvocationHandler</span>() &#123;</span><br><span class="line">			<span class="comment">// invoke 当我们让代理对象调用任何方法时,都会触发invoke方法的执行</span></span><br><span class="line">			<span class="keyword">public</span> Object <span class="title function_">invoke</span><span class="params">(Object proxy, Method method, Object[] args)</span> <span class="keyword">throws</span> Throwable &#123;</span><br><span class="line">				<span class="comment">//Object proxy, 代理对象</span></span><br><span class="line">				<span class="comment">//Method method,被代理的方法</span></span><br><span class="line">				<span class="comment">//Object[] args,被代理方法运行时的实参</span></span><br><span class="line">				<span class="type">Object</span> <span class="variable">res</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">				<span class="keyword">if</span> (method.getName().equals(<span class="string">&quot;eat&quot;</span>)) &#123;</span><br><span class="line">					System.out.println(<span class="string">&quot;饭前洗手&quot;</span>);</span><br><span class="line">					<span class="comment">// 让原有的eat的方法去运行</span></span><br><span class="line">					res = method.invoke(dinner, args);</span><br><span class="line">					System.out.println(<span class="string">&quot;饭后刷碗&quot;</span>);</span><br><span class="line">				&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">					<span class="comment">// 如果是其他方法,那么正常执行就可以了</span></span><br><span class="line">					res = method.invoke(dinner, args);</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">return</span> res;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;;</span><br><span class="line">	</span><br><span class="line">		<span class="type">Dinner</span> <span class="variable">dinnerProxy</span> <span class="operator">=</span>(Dinner) Proxy.newProxyInstance(classLoader,interaces,handler);</span><br><span class="line">		<span class="comment">//dinnerProxy.eat(&quot;包子&quot;);</span></span><br><span class="line">		dinnerProxy.drink();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Dinner</span>&#123;</span><br><span class="line">	<span class="keyword">void</span> <span class="title function_">eat</span><span class="params">(String foodName)</span>;</span><br><span class="line">	<span class="keyword">void</span> <span class="title function_">drink</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> <span class="keyword">implements</span> <span class="title class_">Dinner</span>&#123;</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line"> </span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Person</span><span class="params">(String name)</span> &#123;</span><br><span class="line">		<span class="built_in">this</span>.name = name;</span><br><span class="line">	&#125;</span><br><span class="line">    </span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">(String foodName)</span> &#123;</span><br><span class="line">		System.out.println(name+<span class="string">&quot;正在吃&quot;</span>+foodName);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">drink</span><span class="params">()</span> &#123;</span><br><span class="line">		System.out.println(name+<span class="string">&quot;正在喝茶&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">implements</span> <span class="title class_">Dinner</span>&#123;</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Student</span><span class="params">(String name)</span> &#123;</span><br><span class="line">		<span class="built_in">this</span>.name = name;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">(String foodName)</span> &#123;</span><br><span class="line">		System.out.println(name+<span class="string">&quot;正在食堂吃&quot;</span>+foodName);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">drink</span><span class="params">()</span> &#123;</span><br><span class="line">		System.out.println(name+<span class="string">&quot;正在喝可乐&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​	总结：</p>
<ul>
<li>在不修改原有代码的或者没有办法修改原有代码的情况下，增强对象功能使用代理对象代替原来的对象去完成功能，进而达到拓展功能的目的</li>
<li><code>JDK Proxy</code>动态代理是面向接口的动态代理，一定要有接口和实现类，代理对象增强的是实现类，在实现接口的方法重写方法，生成的代理对象只能转换成接口，不能转换成代理类<ul>
<li>生成的代理对象只能转换成接口，不能转换成被代理类</li>
<li>代理对象只能增强接口中定义的方法，实现类中其他和接口无关的方法是无法增强的</li>
<li>代理对象只能读取到接口中方法上的注解，不能读取到实现类方法上的注解</li>
</ul>
</li>
</ul>
<h4 id="7-3-2-cglib动态代理模式"><a href="#7-3-2-cglib动态代理模式" class="headerlink" title="7.3.2 cglib动态代理模式"></a>7.3.2 <code>cglib</code>动态代理模式</h4><img src="/2022/06/04/study/Spring/cglib%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86.png" class="" title="cglib动态代理 image">

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.testCglib; </span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.springframework.cglib.proxy.Enhancer;</span><br><span class="line"><span class="keyword">import</span> org.springframework.cglib.proxy.MethodInterceptor;</span><br><span class="line"><span class="keyword">import</span> org.springframework.cglib.proxy.MethodProxy; </span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span>: Ly</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test1</span> &#123;</span><br><span class="line">	<span class="meta">@Test</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testCglib</span><span class="params">()</span>&#123;</span><br><span class="line">		<span class="type">Person</span> <span class="variable">person</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line">		<span class="comment">// 获取一个Person的代理对象</span></span><br><span class="line">		<span class="comment">// 1 获得一个Enhancer对象</span></span><br><span class="line">		<span class="type">Enhancer</span> <span class="variable">enhancer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Enhancer</span>();</span><br><span class="line">		<span class="comment">// 2 设置父类字节码</span></span><br><span class="line">		enhancer.setSuperclass(person.getClass());</span><br><span class="line">		<span class="comment">// 3 获取MethodIntercepter对象 用于定义增强规则</span></span><br><span class="line">		<span class="type">MethodInterceptor</span> <span class="variable">methodInterceptor</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MethodInterceptor</span>() &#123;</span><br><span class="line">			<span class="meta">@Override</span></span><br><span class="line">			<span class="keyword">public</span> Object <span class="title function_">intercept</span><span class="params">(Object o, Method method, Object[] objects, MethodProxy methodProxy)</span> <span class="keyword">throws</span> Throwable &#123;</span><br><span class="line">				<span class="comment">/*  Object o,  生成之后的代理对象 personProxy</span></span><br><span class="line"><span class="comment">					Method method,  父类中原本要执行的方法  Person&gt;&gt;&gt; eat()</span></span><br><span class="line"><span class="comment">					Object[] objects, 方法在调用时传入的实参数组</span></span><br><span class="line"><span class="comment">					MethodProxy methodProxy  子类中重写父类的方法 personProxy &gt;&gt;&gt; eat()</span></span><br><span class="line"><span class="comment">				*/</span></span><br><span class="line">				<span class="type">Object</span> <span class="variable">res</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">				<span class="keyword">if</span> (method.getName().equals(<span class="string">&quot;eat&quot;</span>)) &#123;</span><br><span class="line">					<span class="comment">// 如果是eat方法 则增强并运行</span></span><br><span class="line">					System.out.println(<span class="string">&quot;饭前洗手&quot;</span>);</span><br><span class="line">					res = methodProxy.invokeSuper(o,objects);</span><br><span class="line">					System.out.println(<span class="string">&quot;饭后刷碗&quot;</span>);</span><br><span class="line">				&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">					<span class="comment">// 如果是其他方法 不增强运行</span></span><br><span class="line">					res = methodProxy.invokeSuper(o,objects); <span class="comment">// 子类对象方法在执行,默认会调用父类对应被重写的方法</span></span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">return</span> res;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;;</span><br><span class="line">		<span class="comment">// 4 设置methodInterceptor</span></span><br><span class="line">		enhancer.setCallback(methodInterceptor);</span><br><span class="line">		<span class="comment">// 5 获得代理对象</span></span><br><span class="line">		<span class="type">Person</span> <span class="variable">personProxy</span> <span class="operator">=</span> (Person)enhancer.create();</span><br><span class="line">		<span class="comment">// 6 使用代理对象完成功能</span></span><br><span class="line">		personProxy.eat(<span class="string">&quot;包子&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>  &#123;</span><br><span class="line">    </span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Person</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">(String foodName)</span> &#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;张三正在吃&quot;</span>+foodName);</span><br><span class="line">	&#125;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>

<h2 id="8、Spring-AOP"><a href="#8、Spring-AOP" class="headerlink" title="8、Spring AOP"></a>8、<code>Spring AOP</code></h2><h3 id="8-1-AOP-概念及原理"><a href="#8-1-AOP-概念及原理" class="headerlink" title="8.1 AOP 概念及原理"></a>8.1 <code>AOP </code>概念及原理</h3><p>​	在软件业，<code>AOP</code>为<code>Aspect Oriented Programming</code>的缩写，意为：面向切面编程，通过预编译方式和运行期间动态代理实现程序功能的统一维护的一种技术。<code>AOP</code>是<code>OOP</code>的延续，是软件开发中的一个热点，也是<code>Spring</code>框架中的一个重要内容，是函数式编程的一种衍生范型。利用<code>AOP</code>可以对业务逻辑的各个部分进行隔离，从而使得业务逻辑各部分之间的耦合度降低，提高程序的可重用性，同时提高了开发的效率。—-【百度百科】</p>
<p>​	<code>AOP </code>面向切面编程一般可以在不修改现有代码的情况下，对程序功能进行拓展，往往用于实现日志处理、权限控制、性能检测、事务控制等</p>
<p>​	AOP实现的原理就是<strong>动态代理</strong>，在有接口的情况下，使用**<code>JDK</code>动态代理<strong>，在没有接口的情况下使用</strong><code>cglib</code>动态代理**</p>
<h3 id="8-2-术语"><a href="#8-2-术语" class="headerlink" title="8.2 术语"></a>8.2 术语</h3><ol>
<li>连接点（<code>Joint point</code>）：类里面可以被增强的方法，这些方法称之为<strong>连接点</strong>，表示在程序中明确定义的点，典型的包括方法调用，对类成员的访问以及异常处理程序块的执行等待，它自身还可以嵌套其他<code>Join point</code></li>
<li>切入点（<code>Pointcut</code>）：实际被增强的方法，称之为切入点，表示一组<code>joint point</code>，这些<code>joint point</code>或是通过逻辑关系组合起来，或是通过通配、正则表达式等方式集中起来，它定义了相应的<code>Advince</code>将要发生的地方</li>
<li>通知（<code>Advince</code>）：实际增强的逻辑部分称为通知（增加的功能），<code>Advince</code>定义了在<code>Pointcut</code>里面定义的程序点具体要做的操作，它通过<code>before</code>、<code>after</code>、<code>around</code>来区别是在每个<code>joint point</code>之前、之后还是代替执行的代码，通知类型：前置通知、后置通知、环绕通知、异常通知、最终通知</li>
<li>目标对象（<code>Target</code>）：被增强功能的对象（被代理的对象）</li>
<li>切面（<code>Aspect</code>）：表现为功能相关的一些advice放在一起声明成为一个<code>java</code>类，<code>aspect</code>声明类似与<code>java</code>的类声明，在<code>aspect</code>中会包含一些<code>pointcut</code>以及相应的<code>advince</code></li>
<li>织入（<code>Weaving</code>）：创建代理对象并实现功能增强的声明并运行的过程，将<code>Aspect</code>和其他对象链接起来，并创建<code>Advince Object</code>的过程</li>
</ol>
<h3 id="8-3-注解方式实现"><a href="#8-3-注解方式实现" class="headerlink" title="8.3 注解方式实现"></a>8.3 注解方式实现</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.aspect;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.JoinPoint;</span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.ProceedingJoinPoint;</span><br><span class="line"><span class="keyword">import</span> org.aspectj.lang.annotation.*;</span><br><span class="line"><span class="keyword">import</span> org.springframework.core.annotation.Order;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span>: Ly</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"> </span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Aspect</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DaoAspect</span> &#123;</span><br><span class="line">    <span class="comment">//定义公共切点</span></span><br><span class="line">    <span class="meta">@Pointcut(&quot;execution(* com.dao.*.add*(..))&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addPointCut</span><span class="params">()</span> &#123;&#125;. </span><br><span class="line"> </span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    * 前置通知: 切点方法执行之前先执行的功能</span></span><br><span class="line"><span class="comment">    * 参数列表可以用JoinPoint接收切点对象</span></span><br><span class="line"><span class="comment">    * 可以获取方法执行的参数</span></span><br><span class="line"><span class="comment">    * */</span></span><br><span class="line">    <span class="meta">@Before(&quot;addPointCut()&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">methodBefore</span><span class="params">(JoinPoint joinPoint)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Before invoked&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    * 后置通知:方法执行之后要增强的功能</span></span><br><span class="line"><span class="comment">    * 无论切点方法是否出现异常都会执行的方法</span></span><br><span class="line"><span class="comment">    * 参数列表可以用JoinPoint接收切点对象</span></span><br><span class="line"><span class="comment">    * */</span></span><br><span class="line">    <span class="meta">@After(&quot;addPointCut()&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">methodAfter</span><span class="params">(JoinPoint joinPoint)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;After invoked&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     * 返回通知:切点方法正常运行结束后增强的功能</span></span><br><span class="line"><span class="comment">     * 如果方法运行过程中出现异常,则该功能不运行</span></span><br><span class="line"><span class="comment">     * 参数列表可以用 JoinPoint joinPoint接收切点对象</span></span><br><span class="line"><span class="comment">     * 可以用Object res接收方法返回值,需要用returning指定返回值名称</span></span><br><span class="line"><span class="comment">     * */</span></span><br><span class="line">    <span class="meta">@AfterReturning( value = &quot;addPointCut()&quot;,returning = &quot;res&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">methodAfterReturning</span><span class="params">(JoinPoint joinPoint, Object res)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;AfterReturning invoked&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     * 异常通知:切点方法出现异常时运行的增强功能</span></span><br><span class="line"><span class="comment">     * 如果方法运行没有出现异常,则该功能不运行</span></span><br><span class="line"><span class="comment">     * 参数列表可以用Exception ex接收异常对象 需要通过throwing指定异常名称</span></span><br><span class="line"><span class="comment">     * */</span></span><br><span class="line">    <span class="meta">@AfterThrowing( value = &quot;addPointCut()&quot;,throwing = &quot;ex&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">methodAfterThrowing</span><span class="params">(Exception ex)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;AfterThrowing invoked&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="comment">/*环绕通知:在切点方法之前和之后都进行功能的增强</span></span><br><span class="line"><span class="comment">    * 需要在通知中定义方法执行的位置,并在执行位置之前和之后自定义增强的功能</span></span><br><span class="line"><span class="comment">    * 方法列表可以通过ProceedingJoinPoint获取执行的切点</span></span><br><span class="line"><span class="comment">    * 通过proceedingJoinPoint.proceed()方法控制切点方法的执行位置</span></span><br><span class="line"><span class="comment">    * proceedingJoinPoint.proceed()方法会将切点方法的返回值获取到,并交给我们,可以做后续处理</span></span><br><span class="line"><span class="comment">    * 我们在环绕通知的最后需要将切点方法的返回值继续向上返回,否则切点方法在执行时接收不到返回值</span></span><br><span class="line"><span class="comment">    * */</span></span><br><span class="line">    <span class="meta">@Around(&quot;addPointCut()&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">methodAround</span><span class="params">(ProceedingJoinPoint proceedingJoinPoint)</span> <span class="keyword">throws</span> Throwable &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;aroundA invoked&quot;</span>);</span><br><span class="line">        <span class="type">Object</span> <span class="variable">proceed</span> <span class="operator">=</span> proceedingJoinPoint.proceed();</span><br><span class="line">        System.out.println(<span class="string">&quot;aroundB invoked&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> proceed;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​	有多个增强类对同一个方法进行增强，通过<code>@Order</code>注解设置增强类优先级，数字越小，优先级越高，数字越小，其代理位置越靠近注入位置</p>
<h2 id="9、Spring-事务"><a href="#9、Spring-事务" class="headerlink" title="9、Spring 事务"></a>9、<code>Spring </code>事务</h2><h3 id="9-1-事务"><a href="#9-1-事务" class="headerlink" title="9.1 事务"></a>9.1 事务</h3><p>​	事务（<code>Transaction</code>）：指的是一个操作序列，该操作序列中的多个操作，只能都做，或者都不做，是一个不可分割的工作单位，是数据库环境中的逻辑工作单位，由<code>DBMS</code>中的事务管理子系统负责事务的处理</p>
<p>​	但并不是所有的操作序列都可以称为为事务，因为一个操作序列成为事务，必须满足事务的四个特性，即原子性（<code>Atomicity</code>）、一致性（<code>Consistency</code>）、隔离性（<code>Isolation</code>）、持久性（<code>Durability</code>）&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;<code>ACID</code>特性</p>
<h4 id="9-1-1-原子性"><a href="#9-1-1-原子性" class="headerlink" title="9.1.1 原子性"></a>9.1.1 原子性</h4><p>​	原子是自然界最小的颗粒，具有不可再分的特性。事务中的所有操作可以看做一个原子，事务是应用中不可再分的最小的逻辑执行体。</p>
<p>​	使用事务对数据进行修改的操作序列，要么全部执行，要么全不执行。通常，某个事务中的操作都具有共同的目标，并且是相互依赖的。如果数据库系统只执行这些操作中的一部分，则可能会破坏事务的总体目标，而原子性消除了系统只处理部分操作的可能性。</p>
<h4 id="9-1-2-一致性"><a href="#9-1-2-一致性" class="headerlink" title="9.1.2 一致性"></a>9.1.2 一致性</h4><p>​	一致性是指事务执行的结果必须使数据库从一个一致性状态，变到另一个一致性状态。当数据库中只包含事务成功提交的结果时，数据库处于一致性状态。一致性是通过原子性来保证的。</p>
<p>​	例如：在转账时，只有保证转出和转入的金额一致才能构成事务。也就是说事务发生前和发生后，数据的总额依然匹配。</p>
<h4 id="9-1-3-隔离性"><a href="#9-1-3-隔离性" class="headerlink" title="9.1.3 隔离性"></a>9.1.3 隔离性</h4><p>​	隔离性是指各个事务的执行互不干扰，任意一个事务的内部操作对其他并发的事务，都是隔离的。也就是说：并发执行的事务之间既不能看到对方的中间状态，也不能相互影响。</p>
<p>​	例如：在转账时，只有当A账户中的转出和B账户中转入操作都执行成功后才能看到A账户中的金额减少以及B账户中的金额增多。并且其他的事务对于转账操作的事务是不能产生任何影响的。</p>
<h4 id="9-1-4-持久性"><a href="#9-1-4-持久性" class="headerlink" title="9.1.4 持久性"></a>9.1.4 持久性</h4><p>​	持久性指事务一旦提交，对数据所做的任何改变，都要记录到永久存储器中，通常是保存进物理数据库，即使数据库出现故障，提交的数据也应该能够恢复。但如果是由于外部原因导致的数据库故障，如硬盘被损坏，那么之前提交的数据则有可能会丢失。</p>
<h3 id="9-2-事务的并发问题"><a href="#9-2-事务的并发问题" class="headerlink" title="9.2 事务的并发问题"></a>9.2 事务的并发问题</h3><h4 id="9-2-1-脏读（Dirty-read）"><a href="#9-2-1-脏读（Dirty-read）" class="headerlink" title="9.2.1 脏读（Dirty read）"></a>9.2.1 脏读（<code>Dirty read</code>）</h4><p>​	当一个事务正在访问数据并且对数据进行了修改，而这种修改还没有提交到数据库中，这时另外一个事务也访问了这个数据，然后使用了这个数据。因为这个数据是还没有提交的数据，那么另外一个事务读到的这个数据是“脏数据”，依据“脏数据”所做的操作可能是不正确的。</p>
<h4 id="9-2-2-不可重复读（Unrepeatableread）"><a href="#9-2-2-不可重复读（Unrepeatableread）" class="headerlink" title="9.2.2 不可重复读（Unrepeatableread）"></a>9.2.2 不可重复读（<code>Unrepeatableread</code>）</h4><p>​	 指在一个事务内多次读同一数据。在这个事务还没有结束时，另一个事务也访问该数据。那么，在第一个事务中的两次读数据之间，由于第二个事务的修改导致第一个事务两次读取的数据可能不太一样。这就发生了在一个事务内两次读到的数据是不一样的情况，因此称为不可重复读。</p>
<h4 id="9-2-3-幻读（Phantom-read）"><a href="#9-2-3-幻读（Phantom-read）" class="headerlink" title="9.2.3 幻读（Phantom read）"></a>9.2.3 幻读（<code>Phantom read</code>）</h4><p>​	幻读与不可重复读类似。它发生在一个事务（<code>T1</code>）读取了几行数据，接着另一个并发事务（<code>T2</code>）插入了一些数据时。在随后的查询中，第一个事务（<code>T1</code>）就会发现多了一些原本不存在的记录，就好像发生了幻觉一样，所以称为幻读。</p>
<h4 id="9-2-4-总结"><a href="#9-2-4-总结" class="headerlink" title="9.2.4 总结"></a>9.2.4 总结</h4><p>​	不可重复读的重点是修改，幻读的重点在于新增或者删除</p>
<p>​	解决不可重复读的问题只需要锁住满足条件的行，解决幻读需要锁表</p>
<h4 id="9-2-5-事务的隔离级别"><a href="#9-2-5-事务的隔离级别" class="headerlink" title="9.2.5 事务的隔离级别"></a>9.2.5 事务的隔离级别</h4><p>​	事务的隔离级别用于决定如何控制并发用户读写数据的操作。数据库是允许多用户并发访问的，如果多个用户同时开启事务并对同一数据进行读写操作的话，有可能会出现脏读、不可重复读和幻读问题，所以<code>MySQL</code>中提供了四种隔离级别来解决上述问题。 </p>
<p>​	事务的隔离级别从低到高依次为<code>READ UNCOMMITTED</code>、<code>READ COMMITTED</code>、<code>REPEATABLE READ</code>以及<code>SERIALIZABLE</code>，隔离级别越低，越能支持高并发的数据库操作。</p>
<table>
<thead>
<tr>
<th>隔离级别</th>
<th>脏读</th>
<th>不可重复读</th>
<th>幻读</th>
</tr>
</thead>
<tbody><tr>
<td>READ UNCOMMITTED（读未提交）</td>
<td>true</td>
<td>true</td>
<td>true</td>
</tr>
<tr>
<td>READ COMMITTED（读已提交）</td>
<td>false</td>
<td>true</td>
<td>true</td>
</tr>
<tr>
<td>REPEATABLE READ（可重复读）</td>
<td>false</td>
<td>false</td>
<td>true</td>
</tr>
<tr>
<td>SERIALIZABLE（串行化）</td>
<td>false</td>
<td>false</td>
<td>false</td>
</tr>
</tbody></table>
<p>​	</p>

        
            <div id="toc-article">
                
  <div class="widget-wrap" id="toc-wrap">
    <h3 class="widget-title"><i class="fa fa-toc"></i> 文章目录</h3>
    <div class="widget">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E3%80%81Spring%E6%A1%86%E6%9E%B6"><span class="toc-text">1、Spring框架</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-Spring%E6%A1%86%E6%9E%B6"><span class="toc-text">1.1 Spring框架</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-%E4%BC%98%E7%82%B9"><span class="toc-text">1.2 优点</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E3%80%81Spring%E6%A8%A1%E5%9D%97"><span class="toc-text">2、Spring模块</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-Data-Access-Integration%EF%BC%88%E6%95%B0%E6%8D%AE%E8%AE%BF%E9%97%AE%EF%BC%8F%E9%9B%86%E6%88%90%EF%BC%89"><span class="toc-text">2.1 Data Access&#x2F;Integration（数据访问／集成）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-Web-%E6%A8%A1%E5%9D%97"><span class="toc-text">2.2  Web 模块</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-Core-Container%EF%BC%88%E6%A0%B8%E5%BF%83%E5%AE%B9%E5%99%A8%EF%BC%89"><span class="toc-text">2.3 Core Container（核心容器）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-%E5%85%B6%E4%BB%96%E6%A8%A1%E5%9D%97"><span class="toc-text">2.4 其他模块</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3%E3%80%81Spring-IOC"><span class="toc-text">3、Spring_IOC</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E6%8E%A7%E5%88%B6%E5%8F%8D%E8%BD%AC"><span class="toc-text">3.1 控制反转</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90"><span class="toc-text">3.2 原理分析</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-1-XML%E8%A7%A3%E6%9E%90"><span class="toc-text">3.2.1 XML解析</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-2-%E5%8F%8D%E5%B0%84"><span class="toc-text">3.2.2 反射</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-3-%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F"><span class="toc-text">3.2.3 工厂模式</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4%E3%80%81Spring-XML%E6%96%B9%E5%BC%8F%E5%AE%9E%E7%8E%B0DI"><span class="toc-text">4、Spring_XML方式实现DI</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5%E3%80%81Spring-Bean%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-text">5、Spring_Bean生命周期</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6%E3%80%81Spring%E6%B3%A8%E8%A7%A3%E6%96%B9%E5%BC%8F%E7%AE%A1%E7%90%86Bean"><span class="toc-text">6、Spring注解方式管理Bean</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-%E6%B3%A8%E8%A7%A3%E6%96%B9%E5%BC%8F%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1IOC"><span class="toc-text">6.1 注解方式创建对象IOC</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-%E6%B3%A8%E8%A7%A3%E6%96%B9%E5%BC%8F%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5DI"><span class="toc-text">6.2 注解方式依赖注入DI</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7%E3%80%81Spring%E4%BB%A3%E7%90%86"><span class="toc-text">7、Spring代理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F"><span class="toc-text">7.1 代理模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-%E9%9D%99%E6%80%81%E4%BB%A3%E7%90%86"><span class="toc-text">7.2 静态代理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3-%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86"><span class="toc-text">7.3 动态代理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#7-3-1-Proxy%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86"><span class="toc-text">7.3.1 Proxy动态代理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-3-2-cglib%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F"><span class="toc-text">7.3.2 cglib动态代理模式</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8%E3%80%81Spring-AOP"><span class="toc-text">8、Spring AOP</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-AOP-%E6%A6%82%E5%BF%B5%E5%8F%8A%E5%8E%9F%E7%90%86"><span class="toc-text">8.1 AOP 概念及原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-2-%E6%9C%AF%E8%AF%AD"><span class="toc-text">8.2 术语</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-3-%E6%B3%A8%E8%A7%A3%E6%96%B9%E5%BC%8F%E5%AE%9E%E7%8E%B0"><span class="toc-text">8.3 注解方式实现</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9%E3%80%81Spring-%E4%BA%8B%E5%8A%A1"><span class="toc-text">9、Spring 事务</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#9-1-%E4%BA%8B%E5%8A%A1"><span class="toc-text">9.1 事务</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#9-1-1-%E5%8E%9F%E5%AD%90%E6%80%A7"><span class="toc-text">9.1.1 原子性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#9-1-2-%E4%B8%80%E8%87%B4%E6%80%A7"><span class="toc-text">9.1.2 一致性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#9-1-3-%E9%9A%94%E7%A6%BB%E6%80%A7"><span class="toc-text">9.1.3 隔离性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#9-1-4-%E6%8C%81%E4%B9%85%E6%80%A7"><span class="toc-text">9.1.4 持久性</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-2-%E4%BA%8B%E5%8A%A1%E7%9A%84%E5%B9%B6%E5%8F%91%E9%97%AE%E9%A2%98"><span class="toc-text">9.2 事务的并发问题</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#9-2-1-%E8%84%8F%E8%AF%BB%EF%BC%88Dirty-read%EF%BC%89"><span class="toc-text">9.2.1 脏读（Dirty read）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#9-2-2-%E4%B8%8D%E5%8F%AF%E9%87%8D%E5%A4%8D%E8%AF%BB%EF%BC%88Unrepeatableread%EF%BC%89"><span class="toc-text">9.2.2 不可重复读（Unrepeatableread）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#9-2-3-%E5%B9%BB%E8%AF%BB%EF%BC%88Phantom-read%EF%BC%89"><span class="toc-text">9.2.3 幻读（Phantom read）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#9-2-4-%E6%80%BB%E7%BB%93"><span class="toc-text">9.2.4 总结</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#9-2-5-%E4%BA%8B%E5%8A%A1%E7%9A%84%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB"><span class="toc-text">9.2.5 事务的隔离级别</span></a></li></ol></li></ol></li></ol>
    </div>
  </div>


            </div>
        
        
          <blockquote id="copyright">
              <p>原文链接: <a href="https://lyblog2022.github.io/2022/06/04/study/Spring/">https://lyblog2022.github.io/2022/06/04/study/Spring/</a></p>
              <p>版权声明: 转载请注明出处.</p>
          </blockquote>
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Spring/" rel="tag">Spring</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%AD%A6%E4%B9%A0/" rel="tag">学习</a></li></ul>

          


        </div>
      
      
        
<nav id="article-nav">
  
    <a href="/2022/06/04/study/Servlet/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">older</strong>
      <div class="article-nav-title">
        
          Servlet
        
      </div>
    </a>
  
  
    <a href="/2022/06/05/study/SpringMVC/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">newer</strong>
      <div class="article-nav-title">
        
          SpringMVC
        
      </div>
    </a>
  
</nav>

      
      
    </footer>
  </div>
</article>
</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title"><i class="fa fa-posts"></i> 最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/06/09/study/%E6%89%8B%E5%86%99rpc%E6%A1%86%E6%9E%B6/">手写rpc框架</a>
          </li>
        
          <li>
            <a href="/2022/06/07/study/zookeeper%E4%BD%BF%E7%94%A8/">zookeeper使用</a>
          </li>
        
          <li>
            <a href="/2022/06/07/study/zookeeper/">zookeeper常用命令</a>
          </li>
        
          <li>
            <a href="/2022/06/06/software/zookeeper/">CentOS 8 安装zookeeper</a>
          </li>
        
          <li>
            <a href="/2022/06/06/software/jdk/">CentOS 8 配置JDK环境</a>
          </li>
        
      </ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title"><i class="fa fa-tag"></i> 标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/CentOS-8/" style="font-size: 13.33px;">CentOS 8</a> <a href="/tags/MyBatis/" style="font-size: 10px;">MyBatis</a> <a href="/tags/RPC/" style="font-size: 13.33px;">RPC</a> <a href="/tags/Spring/" style="font-size: 10px;">Spring</a> <a href="/tags/Springmvc/" style="font-size: 10px;">Springmvc</a> <a href="/tags/jdk/" style="font-size: 10px;">jdk</a> <a href="/tags/servlet/" style="font-size: 10px;">servlet</a> <a href="/tags/software/" style="font-size: 13.33px;">software</a> <a href="/tags/springboot/" style="font-size: 10px;">springboot</a> <a href="/tags/zookeeper/" style="font-size: 16.67px;">zookeeper</a> <a href="/tags/%E5%AD%A6%E4%B9%A0/" style="font-size: 20px;">学习</a> <a href="/tags/%E6%8E%A5%E5%8F%A3%E8%B0%83%E7%94%A8/" style="font-size: 10px;">接口调用</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title"><i class="fa fa-classify"></i> 分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/CentOs-8/">CentOs 8</a><span class="category-list-count">2</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/CentOs-8/software/">software</a><span class="category-list-count">2</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/CentOs-8/software/jdk/">jdk</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/CentOs-8/software/zookeeper/">zookeeper</a><span class="category-list-count">1</span></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%AD%A6%E4%B9%A0/">学习</a><span class="category-list-count">9</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%AD%A6%E4%B9%A0/MyBatis/">MyBatis</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%AD%A6%E4%B9%A0/RPC/">RPC</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%AD%A6%E4%B9%A0/Spring/">Spring</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%AD%A6%E4%B9%A0/Springmvc/">Springmvc</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%AD%A6%E4%B9%A0/servlet/">servlet</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%AD%A6%E4%B9%A0/springboot/">springboot</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%AD%A6%E4%B9%A0/zookeeper/">zookeeper</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%80%BB%E7%BB%93/">总结</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%80%BB%E7%BB%93/%E6%8E%A5%E5%8F%A3%E8%B0%83%E7%94%A8/">接口调用</a><span class="category-list-count">1</span></li></ul></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title"><i class="fa fa-archive"></i> 归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/">2022年</a><span class="archive-list-count">12</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title"><i class="fa fa-tag"></i> 标签</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/CentOS-8/" rel="tag">CentOS 8</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MyBatis/" rel="tag">MyBatis</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RPC/" rel="tag">RPC</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring/" rel="tag">Spring</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Springmvc/" rel="tag">Springmvc</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jdk/" rel="tag">jdk</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/servlet/" rel="tag">servlet</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/software/" rel="tag">software</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/springboot/" rel="tag">springboot</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/zookeeper/" rel="tag">zookeeper</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AD%A6%E4%B9%A0/" rel="tag">学习</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%8E%A5%E5%8F%A3%E8%B0%83%E7%94%A8/" rel="tag">接口调用</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>


  
</aside>
        
      </div>
      <a id="totop" href="#top"></a>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      <p>
        <a href="/sitemap.xml">网站地图</a>
        <span> | </span><a href="/atom.xml">订阅本站</a>
        <span> | </span><a href="/about/">联系博主</a>
      </p>
      
        <p>
          <i class="fa fa-visitors"></i>
          <i id="busuanzi_container_site_uv"><i id="busuanzi_value_site_uv"></i></i>
          ，
          <i class="fa fa-views"></i>
          <i id="busuanzi_container_site_pv"><i id="busuanzi_value_site_pv"></i></i>
        </p>
      
      <p>
        <span>Copyright &copy; 2022 ly.</span>
        <span>Theme by <a href="https://github.com/chaooo/hexo-theme-BlueLake/" target="_blank">BlueLake.</a></span>
        <span>Powered by <a href="https://hexo.io/" target="_blank">Hexo.</a></span>
      </p>
    </div>
  </div>
</footer>

    </div>
  </div>
  
<script src="/js/jquery-3.4.1.min.js"></script>


<script src="/js/search.json.js"></script>


  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>






  
<script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




  
  



  

  

  

  

  

  

  

  
  





</body>
</html>